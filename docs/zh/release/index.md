[[toc]]

## 新版本更新说明

为了优化平台的性能和功能，提平台可扩展性和稳定性。平台后台更换了一套后端架构，在本次更新中，做了如下调整。



### 版本更新时间

2022/11/28



### 新特性

- 本次更新中，新增了对仓库文件的`git`操作，比如版本控制，批量上传文件、`git lfs`上传大文件等。有关仓库`git`操作详情请参考[仓库文件操作教程](https://xihe-docs.mindspore.cn/zh/tutorial/repo)。



### 功能更改

- 登录功能调整
  1. 出于平台和用户安全考虑，新后台需要用户绑定邮箱进行登录。对于部分原来未提供邮箱的用户，在登录时需要您补充邮箱进行验证登陆，邮箱验证登陆成功后方可继续使用平台。

- 训练功能调整
  1. 为了适配后续版本的规划，现不支持在项目仓库中上传`200K`以上的文件和标为`lfs`的文件。输出的文件和输出的日志将不支持直接存放在项目仓库下，可通过单击训练详情页面输出按钮下载。
  2. 目前训练暂只支持通过表单方式创建训练，后续会做更多优化。
  3. 如果需要支持输出，则训练任务输出的超参数名必须为`output_path`；如果需要支持自定义评估，则存储Aim repo的超参数名必须为`aim_repo`。
  4. 更多操作详情请参考[平台训练教程](https://xihe-docs.mindspore.cn/zh/tutorial/train)

- 推理功能调整
  1. 因项目仓库不支持上传大文件和标为大文件`lfs`的文件，所以数据迁移时将大文件（如`.ckpt权重文件`）从项目仓移除到模型仓，启动推理时通过配置文件引用模型仓的文件的方式。
  2. 目前仅通过配置文件方式启动推理任务。配置文件`config.json`，可同时引用多个模型文件。配置文件的key由`pretrain_url`更改为`model_path`，且值是是个列表，即可支持引用多个权重文件。
  3. 更多操作详情请参考[平台推理教程](https://xihe-docs.mindspore.cn/zh/tutorial/inference)



### 数据迁移

为适配后续版本的迭代，平台设定了一些规则对原有的数据进行迁移，可能会导致部分数据存放的位置和命名的方式与原来不一致。目前最新的迁移时间是`2022/11/27 17:00`，若有什么问题，请您及时反馈。

**仓库下数据迁移规则**

- 仓库名：
  - 平台不支持同一用户创建同名仓库，对于旧版本数据中的同名仓库。通过仓库类别区分，有选择地给其中一个仓库名加上对应的类别前缀（`pro-`，`model-`，`dataset-`），如模型和项目都有一个仓库名为`lenet`，则可能迁移后的仓库名为`pro-lenet`或者`model-lenet`。
  - 平台仓库命名限定在3-35个字符，所以旧版本数据中超过35个字符的仓库名会被截取到35个字符以内

- 模型仓库：所有的数据都会被迁移

- 数据集仓库：除了ckpt文件其他的数据都会被迁移

- 项目仓库：只迁移以下格式文件

  - `*.py`，`*.pyc`， `*.ipynb`， `*.xml`，`*.yaml`， `*.json`，`*.csv`， `*.tsv`，`*.txt`，`*.md` 

  - `inference`文件夹下的：`*.jpg`，`*.png`

- 空文件夹不会被迁移



### 问题反馈

您可以添加官方助手小猫子（**微信号：mindspore0328**）进行咨询，您也可以联系我们的邮箱`contact@mindspore.cn`，我们会及时回复。



